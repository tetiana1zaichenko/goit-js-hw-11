{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\n\n\n  export function searchImage(userValue) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n\n  const params = new URLSearchParams({\n      key: '48801957-4c351c0f3a606f3cba9240365',\n      q: userValue,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n      return axios.get(url)\n          .then(res => {\n              if (res.data.hits.length !== 0) {\n                  return res.data.hits;\n              } else {\n                  iziToast.error({\n                      title: 'Error',\n                      message: 'Sorry, there are no images matching your search query. Please try again!',\n                  });\n                  return Promise.reject('No images found');\n              }\n          })\n          .catch(er => {\n              console.error(\"Fetch error:\", er);\n              iziToast.error({\n        title: \"Error\",\n        message: \"Something went wrong. Please try again later.\",\n      });\n      throw er;\n          });\n}","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\n\nfunction imageTemplate(image) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads} = image;\n    return `\n    <div class=\"image-card\">\n    <a href=\"${largeImageURL}\" class=\"gallery-link\">\n  <div class=\"image-container\">\n    <img\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n  </div>\n  </a>\n<div class=\"image-body\">\n  <div class=\"image-column\">\n    <p class=\"image-info\">Likes</p>\n    <p class=\"image-value\">${likes}</p>\n  </div>\n  <div class=\"image-column\">\n    <p class=\"image-info\">Views</p>\n    <p class=\"image-value\">${views}</p>\n  </div>\n  <div class=\"image-column\">\n    <p class=\"image-info\">Comments</p>\n    <p class=\"image-value\">${comments}</p>\n  </div>\n  <div class=\"image-column\">\n    <p class=\"image-info\">Downloads</p>\n    <p class=\"image-value\">${downloads}</p>\n  </div>\n</div>\n</div>`;\n}\n\nexport function renderImages(images) {\n    console.log(images);\n    const markup = images\n        .map((image) => imageTemplate(image))\n        .join(\"\"); \n    gallery.innerHTML = markup;\n\n  lightbox.refresh(); \n}","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { searchImage } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\n\nconst form = document.querySelector(\".formImage\");\nconst btnSearch = document.querySelector(\".btn_search\");\nconst input = document.querySelector(\".inputImage\");\n\nconst loader = document.querySelector(\".loader\");\n\nfunction showLoader() {\n  loader.style.display = \"block\";\n}\n\nfunction hideLoader() {\n  loader.style.display = \"none\";\n}\n\n\nhideLoader()\nform.addEventListener('submit', ev => {\n    ev.preventDefault();\n    const userValue = input.value.trim()\n    console.log(userValue);\n    if (userValue === \"\") {\n        iziToast.error({\n    title: 'Error',\n    message: 'Please, full the field!',\n});\n        return;\n    } else { \n        console.log('make HTTP request');\n        showLoader();\n        searchImage(userValue)\n            .then(renderImages)\n            .catch((error) => console.log(error))\n        .finally(() => hideLoader());\n    }\n    ev.target.reset();\n});\n\n\n"],"names":["searchImage","userValue","BASE_URL","END_POINT","params","url","axios","res","iziToast","er","gallery","lightbox","SimpleLightbox","imageTemplate","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImages","images","markup","form","input","loader","showLoader","hideLoader","ev","error"],"mappings":"owBAIS,SAASA,EAAYC,EAAW,CACvC,MAAMC,EAAW,sBACXC,EAAY,QAEZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GACzC,OAAOE,EAAM,IAAID,CAAG,EACf,KAAKE,GACEA,EAAI,KAAK,KAAK,SAAW,EAClBA,EAAI,KAAK,MAEhBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC/B,CAAmB,EACM,QAAQ,OAAO,iBAAiB,EAE9C,EACA,MAAMC,GAAM,CACT,cAAQ,MAAM,eAAgBA,CAAE,EAChCD,EAAS,MAAM,CACrB,MAAO,QACP,QAAS,+CACjB,CAAO,EACKC,CACZ,CAAW,CACX,CChCA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,SAASC,EAAcC,EAAO,CAC5B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIP,EAC9E,MAAO;AAAA;AAAA,eAEIE,CAAa;AAAA;AAAA;AAAA,aAGfD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAOYC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA,OAItC,CAEO,SAASC,EAAaC,EAAQ,CACjC,QAAQ,IAAIA,CAAM,EAClB,MAAMC,EAASD,EACV,IAAKT,GAAUD,EAAcC,CAAK,CAAC,EACnC,KAAK,EAAE,EACZJ,EAAQ,UAAYc,EAEtBb,EAAS,QAAO,CAClB,CC7CA,MAAMc,EAAO,SAAS,cAAc,YAAY,EAC9B,SAAS,cAAc,aAAa,EACtD,MAAMC,EAAQ,SAAS,cAAc,aAAa,EAE5CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,MAAM,QAAU,OACzB,CAEA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CAGAE,EAAY,EACZJ,EAAK,iBAAiB,SAAUK,GAAM,CAClCA,EAAG,eAAc,EACjB,MAAM7B,EAAYyB,EAAM,MAAM,KAAM,EAEpC,GADA,QAAQ,IAAIzB,CAAS,EACjBA,IAAc,GAAI,CAClBO,EAAS,MAAM,CACnB,MAAO,QACP,QAAS,yBACb,CAAC,EACO,MACR,MACQ,QAAQ,IAAI,mBAAmB,EAC/BoB,IACA5B,EAAYC,CAAS,EAChB,KAAKqB,CAAY,EACjB,MAAOS,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACvC,QAAQ,IAAMF,EAAU,CAAE,EAE/BC,EAAG,OAAO,OACd,CAAC"}